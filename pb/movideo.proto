syntax = "proto3";

import "google/protobuf/timestamp.proto";
import "common.proto";

option  go_package = "github.com/ClareAI/ai-platform-protocol/api/movideo";
package wati.ai_platform.protocol.movideo;

enum CATEGORY {
    UNDEFINED     = 0;
    ADVERTISING   = 1;
    STORY_TELLING = 2;
    INFORMATIVE   = 3;
    ENTERTAINING  = 4;
    PROFESSIONAL  = 5;
    INSPIRING     = 6;
}

enum LANGUAGE {
    UNKNOWN    = 0;
    ENGLISH    = 1;
    PORTUGUESE = 2;
}

enum ORIENTATION {
    NOT_SET   = 0;
    PORTRAIT  = 1;
    LANDSCAPE = 2;
}

message Voice {
    string          name        = 1;
    string          description = 2;
    LANGUAGE        language    = 3;
    common.GENDER   gender      = 4;
    repeated string tags        = 5;
    string          audio_demo  = 6;
}

message VideoClip {
    int32  index             = 1;
    string sentence          = 2;
    string clip_url          = 3;
    string audio_segment_url = 4;
    string video_description = 5;
}

message Video {
    string               id                   = 1;
    common.TASKSTATUS    status               = 2;
    string               title                = 3;  // generated by llm
    CATEGORY             category             = 4;
    string               source_content       = 5;
    string               voice_name           = 6;
    string               preview_video_url    = 7;
    string               thumbnail_url        = 8;
    int32                duration             = 9;  // real video duration.
    int32                voiceover_word_count = 10;
    repeated VideoClip   clips                = 11;
    common.USERFAVOURITE favourite            = 12;
    reserved 13, 29;
    google.protobuf.Timestamp create_at = 30;
    google.protobuf.Timestamp update_at = 31;
}

message VideoGenerateRequest {
    // video id.
    string video_id = 1;
    // content category.
    CATEGORY category = 2;
    // content outline.
    string outline = 3;
    // orientation of the video.
    ORIENTATION orientation = 4;
    // elevenlabs voice id
    string voice_id = 5;
    // voice using language. same string with LANGUAGE type.
    movideo.LANGUAGE language = 6;
    // video duration which user want to generate.
    int32 duration = 7;
    // add subtitle or not.
    bool add_subtitle = 8;
}

message VideoGenerateResult {
    // Video ID.
    string video_id = 1;
    // task status.
    common.TASKSTATUS status = 2;
    // error_info
    string error_info = 3;
    // video title generated by llm.
    string title = 4;
    // preview video object name in a low quality.
    string preview_video = 5;
    // video thumbnail object name.
    string thumbnail = 6;
    // video real duration.
    int32 duration = 7;
    // voiceover word count.
    int32 voiceover_word_count = 8;
}

message VideoExportRequest {
    string video_id = 1;
    // video quality.
    common.QUALITY quality = 2;
    // video watermark.
    common.WATERMARK watermark = 3;
    // add subtitle or not.
    bool add_subtitle = 4;
}

message VideoExportResult {
    string video_id = 1;
    // task status.
    common.TASKSTATUS status = 2;
    // error_info
    string error_info = 3;
    // video title generated by llm.
    string video_object = 4;
}

message UserInfo {
    string id = 1;
    // 用户email
    string email = 2;
    // 用户类型
    common.USERTYPE type = 3;
    // 用户订阅信息
    // 这个接口返回的时候，不带subscription id
    SubscriptionInfo subscribe_info = 4;

    reserved 5, 29;
    // 创建时间
    google.protobuf.Timestamp create_at = 30;
    // 更新时间
    google.protobuf.Timestamp update_at = 31;
}

message SubscriptionInfo {
    string                     id            = 1;
    common.SUBSCRIPTION_STATUS status        = 2;
    string                     error_info    = 3;
    google.protobuf.Timestamp  start_at      = 4;
    google.protobuf.Timestamp  experation_at = 5;
}
